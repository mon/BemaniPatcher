<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>MÚSECA 1+1/2 DLL Modder</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- don't hate -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script type="text/javascript" src="js/FileSaver.min.js"></script>
    <script type="text/javascript" src="js/dllpatcher.js"></script>
    <script type="text/javascript">
        window.addEventListener("load", function () {
            new PatchContainer([
                new Patcher("museca.dll", "2017-06-28 -- 2017-12-25", [
                    {
                        name: "Infinite Final Layer", //Created by Akubits & Cammy
                        patches: [
                            {
                                offset: 0x17E947, //Kill the song counter
                                off: [0xFF, 0x83, 0x48, 0x14, 0x00, 0x00],
                                on: [0x90, 0x90, 0x90, 0x90, 0x90, 0x90]
                            },
                            {
                                offset: 0x17E89F, //Prevent final layer from ending the game
                                off: [0x7F, 0x08],
                                on: [0x90, 0x90]
                            },
                            {
                                offset: 0x17E420, //Start on final layer
                                off: [0x8B, 0x81, 0x48, 0x14, 0x00, 0x00],
                                on: [0xB8, 0x03, 0x00, 0x00, 0x00, 0x90]
                            }
                        ]
                    },
                    {
                        name: "Auto Event Mode Toggled (Freeplay (Coin Options) must be \"ON\" for this to work efficiently)", //Created by Akubits
                        patches: [
                            {
                                offset: 0x196BB1,
                                off: [0x89, 0x01, 0x88, 0x41, 0x10, 0xC7, 0x41, 0x14, 0x01, 0x00, 0x00, 0x00, 0xC3, 0xCC, 0xCC, 0xCC, 0xCC],
                                on: [0xC7, 0x01, 0x01, 0x00, 0x00, 0x00, 0x88, 0x41, 0x10, 0xC7, 0x41, 0x14, 0x01, 0x00, 0x00, 0x00, 0xC3]
                            }
                        ]
                    },
                ]),
                new Patcher("museca.dll", "2018-07-30", [
                    {
                        name: "Infinite Final Layer", //Created by Akubits & Cammy
                        patches: [
                            {
                                offset: 0x17E587, //Kill the song counter
                                off: [0xFF, 0x83, 0x48, 0x14, 0x00, 0x00],
                                on: [0x90, 0x90, 0x90, 0x90, 0x90, 0x90]
                            },
                            {
                                offset: 0x17E4DF, //Prevent the final layer from ending the game
                                off: [0x7F, 0x08],
                                on: [0x90, 0x90]
                            },
                            {
                                offset: 0x17E060, //Start on final layer
                                off: [0x8B, 0x81, 0x48, 0x14, 0x00, 0x00],
                                on: [0xB8, 0x03, 0x00, 0x00, 0x00, 0x90]
                            }
                        ]
                    },
                    {
                        name: "Auto Event Mode Toggled (Freeplay (Coin Options) must be \"ON\" for this to work efficiently)", //Created by Akubits
                        patches: [
                            {
                                offset: 0x196431,
                                off: [0x89, 0x01, 0x88, 0x41, 0x10, 0xC7, 0x41, 0x14, 0x01, 0x00, 0x00, 0x00, 0xC3, 0xCC, 0xCC, 0xCC, 0xCC],
                                on: [0xC7, 0x01, 0x01, 0x00, 0x00, 0x00, 0x88, 0x41, 0x10, 0xC7, 0x41, 0x14, 0x01, 0x00, 0x00, 0x00, 0xC3]
                            }
                        ]
                    },
                ]),
            ]);
        });
    </script>
</head>
<body>
    <h1>MÚSECA 1+1/2 DLL Modder</h1>
</body>
</html>
